Цветочный магазин

Слушай, тут заказчик пришёл, нужно бекенд сделать на магазина цветов, влетишь? дело за малым
ёбаный пыхер фрилансер спиздил весь код, нужно написать снова, вебморда есть
оплаты на себя взял тимлид, с тебя нужно создание заказа и расчёт цены

В общем логика такая

- есть кнопка "создать заказ" для фронта, оттуда приходит массив букетов с массивом цветов для каждого + доп. оформление для букета
- при создании заказа нужно пересчитывать цену заказа и возвращать на фронт, а то там код кривой для оплаты, никак баг найти не можем
- всё бы ничего, но склад цветов бля нерезиновый, герберы разбирают как пирожки, поэтому нужно проверять наличие цветов на складе и бронировать их до оплаты клиентом, а то попадали уже на штрафы (и вычитали их из зп фрилансера, мб поэтому он убежал?)
- если цветов не хватает, нужно вернуть заказ с максимально возможным набором цветов в букетах и доп полем, мол, вот эти цветы закончились, сорян
- ещё ручка нужна, что заказ оплачен, её отдельный сервис будет дёргать во внутреннем контуре по хттп
- заказ на 5-10 мин бронируется, для оплаты, если оплаты нет, то надо на склад цветы возвращать

ахда, чуть не забыл, базы тоже нет, её за неуплату хостинга снесли, поэтому её тоже нужно сделать
